<!DOCTYPE html>
	<head>
	<meta charset="utf-8">
	<title>Vikki &amp; Eric Wedding</title>

	<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<!-- 	<link rel="icon" type="image/x-icon" href="favicon.ico"> -->
	
	<link href="https://fonts.googleapis.com/css?family=Montez" rel="stylesheet">
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css'>
	
	<!-- Animate.css -->
	<link rel="stylesheet" href="css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="css/icomoon.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="css/bootstrap.css">
	<!-- Superfish -->
	<link rel="stylesheet" href="css/superfish.css">
	<!-- Magnific Popup -->
	<link rel="stylesheet" href="css/magnific-popup.css">
	
	<link rel="stylesheet" href="css/style.css">
	<style>
		.selectInvalid {
			border: 1px solid red;
		}
		.slideanim {visibility:hidden;}
		.slide {
		  animation-name: slide;
		  -webkit-animation-name: slide;
		  animation-duration: 1s;
		  -webkit-animation-duration: 1s;
		  visibility: visible;
		}
		@keyframes slide {
			0% {
				opacity: 0;
				transform: translateY(70%);
			}
			100% {
				opacity: 1;
				transform: translateY(0%);
			}
		}
		@-webkit-keyframes slide {
			0% {
				opacity: 0;
				-webkit-transform: translateY(70%);
			}
			100% {
				opacity: 1;
				-webkit-transform: translateY(0%);
			}
		}
		#snackbar {
			visibility: hidden;
			min-width: 250px;
			margin-left: -125px;
			background-color: #333;
			color: #fff;
			text-align: center;
			border-radius: 2px;
			padding: 16px;
			position: fixed;
			z-index: 1;
			left: 85%;
			bottom: 30px;
			font-size: 17px;
		}

		#snackbar.show {
			visibility: visible;
			-webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
			animation: fadein 0.5s, fadeout 0.5s 2.5s;
		}

		@-webkit-keyframes fadein {
			from {bottom: 0; opacity: 0;} 
			to {bottom: 30px; opacity: 1;}
		}

		@keyframes fadein {
			from {bottom: 0; opacity: 0;}
			to {bottom: 30px; opacity: 1;}
		}

		@-webkit-keyframes fadeout {
			from {bottom: 30px; opacity: 1;} 
			to {bottom: 0; opacity: 0;}
		}

		@keyframes fadeout {
			from {bottom: 30px; opacity: 1;}
			to {bottom: 0; opacity: 0;}
		}
	</style>
	<script src="https://code.jquery.com/jquery-2.1.4.min.js" integrity="sha256-8WqyJLuWKRBVhxXIL1jBDD7SDxU936oZkCnxQbWwJVw=" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	</head>
	<body>
		<div id="fh5co-wrapper">
		<div id="fh5co-page">
		<div class="fh5co-hero" data-section="home">
			<div class="fh5co-overlay"></div>
			<div class="fh5co-cover text-center" data-stellar-background-ratio="0.5" style="background-image: url(images/sample.jpg);">
				<div class="display-t">
					<div class="display-tc">
						<div class="container">
							<div class="col-md-10 col-md-offset-1">
								<div class="animate-box">
									<h1>The Wedding</h1>
									<h2>Vikki &amp; Eric</h2>
									<p>25.09.2018</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<header id="fh5co-header-section" class="sticky-banner">
			<div class="container">
				<div class="nav-header">
					<a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle dark"><i></i></a>
					<h1 id="fh5co-logo"><a href="#">Vikki &amp; Eric</a></h1>
					<!-- START #fh5co-menu-wrap -->
					<nav id="fh5co-menu-wrap" role="navigation">
						<ul class="sf-menu" id="fh5co-primary-menu">
							<li class="active"><a href="#fh5co-couple" >Getting Married</a></li>
							<li><a href="#fh5co-when-where">When &amp; Where</a></li>
							<li><a href="#fh5co-gallery">Gallery</a></li>
							<li><a href="#fh5co-started">Are you attending?</a></li>
						</ul>
					</nav>
				</div>
			</div>
		</header>

		<!-- end:header-top -->
		
		<div id="fh5co-couple" class="fh5co-section-gray slideanim">
			<div class="container">
				<div class="row row-bottom-padded-md animate-box">
					<div class="col-md-6 col-md-offset-3 text-center">
						<div class="col-md-5 col-sm-5 col-xs-5 nopadding">
							<img src="images/groom.jpg" class="img-responsive" alt="">
							<h3>Vikki Chan</h3>
						</div>
						<div class="col-md-2 col-sm-2 col-xs-2 nopadding"><h2 class="amp-center"><i class="icon-heart"></i></h2></div>
						<div class="col-md-5 col-sm-5 col-xs-5 nopadding">
							<img src="images/bride.jpg" class="img-responsive" alt="">
							<h3>Eric Cheung</h3>
						</div>
					</div>
				</div>
				<div class="row animate-box">
					<div class="col-md-8 col-md-offset-2">
						<div class="col-md-12 text-center heading-section">
							<h2>Are Getting Married</h2>
							<p><strong>on Sep 25, 2018 &mdash; 九龍半山 Club ONE - 農圃道18號UG層</strong></p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="fh5co-countdown">
			<div class="row slideanim">
				<div class="col-md-8 col-md-offset-2 text-center animate-box">
					<div class="col-md-10 col-md-offset-1">
						<div class="animate-box">
							<h1>Our Big Day is Coming!</h1>
						</div>
					</div>
					<p class="countdown">
						<span id="days"></span>
						<span id="hours"></span>
						<span id="minutes"></span>
						<span id="seconds"></span>
					</p>
				</div>
			</div>
		</div>
		
		<div id="fh5co-when-where" class="fh5co-section-gray slideanim">
			<div class="container">
				<div class="row">
					<div class="col-md-8 col-md-offset-2 text-center heading-section animate-box">
						<h2>When &amp; Where</h2>
					</div>
				</div>
				<div class="row row-bottom-padded-md">
					<div class="text-center animate-box">
						<div class="wedding-events">
							<div class="ceremony-bg" style="background-image: url(images/clubone.jpg);"></div>
							<div class="desc">
								<h3>Wedding Day</h3>
								<p><strong>Tuesday, September 25, 2018, starting from 8.00 PM @ 九龍半山 Club ONE (<a href="https://www.google.com.hk/maps/place/靠背壟農圃道18號農圃道18號/@22.3207571,114.1849591,17z" target="_blank">Open Google Map</a>)</strong></p>
								<!-- <p></p> -->
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<div id="map"></div>
					</div>
				</div>
			</div>
		</div>
		
		<div id="fh5co-gallery">
			<div class="container slideanim">
				<div class="row">
					<div class="col-md-8 col-md-offset-2 text-center heading-section animate-box">
						<h2>Wedding Gallery</h2>
					</div>
				</div>
				<div class="row">
					Under Construction
					<!-- <div class="col-md-4">
						<div class="gallery animate-box">
							<a class="gallery-img image-popup image-popup" href="images/gallery-1.jpg"><img src="images/gallery-1.jpg" class="img-responsive" alt=""></a>
						</div>
						<div class="gallery animate-box">
							<a class="gallery-img image-popup" href="images/gallery-7.jpg"><img src="images/gallery-7.jpg" class="img-responsive" alt=""></a>
						</div>
					</div>
					<div class="col-md-4">
						<div class="gallery animate-box">
							<a class="gallery-img image-popup" href="images/gallery-6.jpg"><img src="images/gallery-6.jpg" class="img-responsive" alt=""></a>
						</div>
						<div class="gallery animate-box">
							<a class="gallery-img image-popup" href="images/gallery-2.jpg"><img src="images/gallery-2.jpg" class="img-responsive" alt=""></a>
						</div>
						<div class="gallery animate-box">
							<a class="gallery-img image-popup" href="images/gallery-5.jpg"><img src="images/gallery-5.jpg" class="img-responsive" alt=""></a>
						</div>
					</div>
					<div class="col-md-4">
						<div class="gallery animate-box">
							<a class="gallery-img image-popup" href="images/gallery-3.jpg"><img src="images/gallery-3.jpg" class="img-responsive" alt=""></a>
						</div>
						<div class="gallery animate-box">
							<a class="gallery-img image-popup" href="images/gallery-4.jpg"><img src="images/gallery-4.jpg" class="img-responsive" alt=""></a>
						</div>
					</div> -->
					<!-- <div id="myCarousel" class="carousel slide" data-ride="carousel">
								<ol class="carousel-indicators">
									<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
									<li data-target="#myCarousel" data-slide-to="1"></li>
									<li data-target="#myCarousel" data-slide-to="2"></li>
								</ol>
								<div class="carousel-inner">

									<div class="item active">
										<img src="images/gallery-1.jpg" alt="" style="width:100%;">
										<div class="carousel-caption">
										</div>
									</div>

									<div class="item">
										<img src="images/gallery-2.jpg" alt="" style="width:100%;">
										<div class="carousel-caption">
										</div>
									</div>

									<div class="item">
										<img src="images/gallery-3.jpg" alt="" style="width:100%;">
										<div class="carousel-caption">
										</div>
									</div>

								</div>
								<a class="left carousel-control" href="#myCarousel" data-slide="prev">
									<span class="glyphicon glyphicon-chevron-left"></span>
									<span class="sr-only">Previous</span>
								</a>
								<a class="right carousel-control" href="#myCarousel" data-slide="next">
									<span class="glyphicon glyphicon-chevron-right"></span>
									<span class="sr-only">Next</span>
								</a>
					</div> -->
				</div>
			</div>
		</div>

		<div id="fh5co-started" style="background-image:url(images/cover_bg_2.jpg);">
		<div class="overlay"></div>
			<div class="container">
				<div class="row animate-box">
					<div class="col-md-8 col-md-offset-2 text-center heading-section">
						<h2>Are You Attending?</h2>
						<p>Please fill-up the form to let us know that you're attending. Thanks.
					</div>
				</div>
				<div class="row animate-box">
					<div class="col-md-10 col-md-offset-1">
						<form class="form-inline">
							<div class="col-md-4 col-sm-4">
								<div class="form-group">
									<input type="name" class="form-control" id="name" placeholder="Name">
								</div>
							</div>
							<div class="col-md-4 col-sm-4">
								<div class="form-group">
									<input type="email" class="form-control" id="email" placeholder="Email" onchange="javascript:checkEmailFormat(this);">
								</div>
							</div>
							<div class="col-md-4 col-sm-4">
								<button type="button" class="btn btn-primary btn-block" id="submitBtn" onclick="javascript:submitRequest();">I am Attending</button>
								<!-- <button id="signout-button" style="display: none;">Sign Out</button> -->
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		
		<footer>
			<div id="footer">
				<div class="container">
					<div class="row">
						<div class="col-md-12 text-center">
							<h2>Vikki &amp; Eric</h2>
						</div>
						<div class="col-md-6 col-md-offset-3 text-center">
							<p class="fh5co-social-icons">
								<a href="#"><i class="icon-twitter2"></i></a>
								<a href="#"><i class="icon-facebook2"></i></a>
								<a href="#"><i class="icon-instagram"></i></a>
								<a href="#"><i class="icon-dribbble2"></i></a>
								<a href="#"><i class="icon-youtube"></i></a>
							</p>
							<p>Modified by Eric Cheung.<br>Copyright 2016 Free Html5 <a href="#">Module</a>. All Rights Reserved. <br>Made with <i class="icon-heart3"></i> by <a href="http://freehtml5.co/" target="_blank">Freehtml5.co</a> / Demo Images: <a href="https://unsplash.com/" target="_blank">Unsplash</a><br><a href="https://creativecommons.org/licenses/by/4.0/legalcode" target="_blank">License</a></p>
						</div>
					</div>
				</div>
			</div>
		</footer>
	</div>
	<!-- END fh5co-page -->

	</div>
	<!-- END fh5co-wrapper -->

	<div id="snackbar">Thanks for coming. See you there!</div>
	
	<!-- Google Map -->
	<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBhdgpeI11ZqCkfSnQigbi2kg-GH7x_jqY&callback=initMap"></script>
	<script src="https://apis.google.com/js/client:plusone.js" type="text/javascript"></script>
	<script async defer src="https://apis.google.com/js/api.js" onload="this.onload=function(){};handleClientLoad()" onreadystatechange="if (this.readyState === 'complete') this.onload()"></script>
	<!-- jQuery -->
	
	<!-- <script src="./js/main.js"></script>
	<script src="./js/superfish.js"></script> -->
	<input type="hidden" id="bigDate" value="Sep 25, 2018 20:00:00"/>
	<script>
		function redirectHttpToHttps(){
			var httpURL= window.location.hostname + window.location.pathname + window.location.search;
			console.log(httpURL);
			if($.trim(window.location.hostname) == "" || $.trim(window.location.protocol.toLowerCase()) == "https:"){
				return;
			}else {
				var httpsURL= "https://" + httpURL;
				window.location = httpsURL;
			}
		}
		redirectHttpToHttps();
	
		// Client ID and API key from the Developer Console
		var API_KEY = "AIzaSyA59MYhfjsDAIr5_BMLz31j9AqHjii7FMg";
		var CLIENT_ID = "661151747038-o8qocp5tnq0fcc687m4u5nmqbg3pk531.apps.googleusercontent.com";

		// Array of API discovery doc URLs for APIs used by the quickstart
		var DISCOVERY_DOCS = ["https://sheets.googleapis.com/$discovery/rest?version=v4"];

		// Authorization scopes required by the API; multiple scopes can be
		// included, separated by spaces.
		var SCOPES = "https://www.googleapis.com/auth/spreadsheets";
	
		$(document).ready(function(){
			// Add smooth scrolling to all links in navbar + footer link
			$("#fh5co-menu-wrap a").on('click', function(event) {
				// Make sure this.hash has a value before overriding default behavior
				if (this.hash !== ""){
					// Prevent default anchor click behavior
					event.preventDefault();

					// Store hash
					var hash = this.hash;

					// Using jQuery's animate() method to add smooth page scroll
					// The optional number (900) specifies the number of milliseconds it takes to scroll to the specified area
					$('html, body').animate({
						scrollTop: $(hash).offset().top
					}, 1200, function(){

					// Add hash (#) to URL when done scrolling (default click behavior)
					window.location.hash = hash;
				});
				} // End if
			});
	  
			$(window).scroll(function() {
				$(".slideanim").each(function(){
					var pos = $(this).offset().top;

					var winTop = $(window).scrollTop();
					if (pos < winTop + 600) {
						$(this).addClass("slide");
					}
				});
			});             
		});
	
		function handleClientLoad() {
			gapi.load('client:auth2', initClient);
		}
		
		function handleSignOutClick(event) {
			gapi.auth2.getAuthInstance().signOut();
		}
		
		/**
		*  Initializes the API client library and sets up sign-in state
		*  listeners.
		*/
		function initClient() {
			gapi.client.init({
				discoveryDocs: DISCOVERY_DOCS,
				apiKey: API_KEY,
				clientId: CLIENT_ID,
				scope: SCOPES
			}).then(function () {
				// Listen for sign-in state changes.
				gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);

				// Handle the initial sign-in state.
				updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());
				
				//document.getElementById('signout-button').onclick = handleSignOutClick;
			});
		}
		
		function updateSigninStatus(isSignedIn) {
			if (isSignedIn) {
				console.log("isSignedIn");
				//document.getElementById('signout-button').style.display = 'block';
			} else {
				console.log("!isSignedIn");
				//document.getElementById('signout-button').style.display = 'none';
			}
		}
		
		// Set the date we're counting down to
		var countDownDate = new Date($("#bigDate").val()).getTime();

		// Update the count down every 1 second
		var x = setInterval(function() {
			// Get todays date and time
			var now = new Date().getTime();

			// Find the distance between now an the count down date
			var distance = countDownDate - now;

			// Time calculations for days, hours, minutes and seconds
			var days = Math.floor(distance / (1000 * 60 * 60 * 24));
			var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
			var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
			var seconds = Math.floor((distance % (1000 * 60)) / 1000);

			// Display the result in an element with id="demo"
			// document.getElementById("demo").innerHTML = days + "Days " + hours + "Hours "
			// + minutes + "Minutes " + seconds + "Seconds ";

			// Display the result in an element with id="demo"
			document.getElementById("days").innerHTML = days +" <small>days</small>";
			document.getElementById("hours").innerHTML = hours + " <small>hours</small> ";
			document.getElementById("minutes").innerHTML = minutes + " <small>minutes</small> ";
			document.getElementById("seconds").innerHTML = seconds + " <small>seconds</small> ";

			// If the count down is finished, write some text 
			if (distance < 0) {
				clearInterval(x);
				document.getElementById("demo").innerHTML = "The Wedding Ceremony is Over";
			}
		}, 1000);
		
		function initMap() {
			var myLatLng = {lat: 22.320853, lng: 114.1850367};
			var map = new google.maps.Map(document.getElementById('map'), {
				center: myLatLng,
				zoom: 17
			});
			
			var marker = new google.maps.Marker({
				position: myLatLng,
				map: map,
				title: '九龍半山 Club ONE - 農圃道18號UG層'
			});
		}
		
		function checkEmailFormat(obj){
			var email_regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i;
			if(!email_regex.test($(obj).val())){
				$("#email").addClass("selectInvalid");
				$("#submitBtn").prop("disabled", true);
			}else{
				$("#email").removeClass("selectInvalid");
				$("#submitBtn").prop("disabled", false);
			}
		}
		
		function submitRequest(){
			Promise.resolve(gapi.auth2.getAuthInstance().signIn())
			.then(() => {
				var params = {
					// The ID of the spreadsheet to update.
					spreadsheetId: '1-zplq7M61_o4389rnD-mS075-Ds1k-qqVnGQX9aH4t4',  // TODO: Update placeholder value.

					// The A1 notation of a range to search for a logical table of data.
					// Values will be appended after the last row of the table.
					range: 'vewedding!A2:B2',  // TODO: Update placeholder value.

					// How the input data should be interpreted.
					valueInputOption: 'RAW',  // TODO: Update placeholder value.

					// How the input data should be inserted.
					insertDataOption: 'INSERT_ROWS',  // TODO: Update placeholder value.
				};
				
				var valueRangeBody = {
					// TODO: Add desired properties to the request body.
					"values": [
						[$("#name").val(), $("#email").val()]
					]
				};
			
				gapi.client.sheets.spreadsheets.values.append(params, valueRangeBody).then(function(response) {
					console.log(response.result);
					gapi.auth2.getAuthInstance().signOut();
					
					$("#name").val("");
					$("#email").val("");
					// show Snack bar
					var x = document.getElementById("snackbar")
					x.className = "show";
					setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);					
				}, function(response) {
					console.log('Error: ' + response.result.error.message);
					gapi.auth2.getAuthInstance().signOut();
				});
			});
		}
	</script>
	</body>
</html>

